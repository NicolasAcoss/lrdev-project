{
    "log": {
        "version": "1.2",
        "creator": {
            "name": "DevWeb",
            "version": "1.2"
        },
        "pages": [
            {
                "startedDateTime": "2022-12-06T11:38:18.882806Z",
                "id": "page_1",
                "title": "https://mail.etu.univ-lorraine.fr/zimbra/js/Zimlet_all.js.zgz",
                "pageTimings": {}
            }
        ],
        "entries": [
            {
                "pageref": "page_1",
                "startedDateTime": "2022-12-06T11:38:18.882806Z",
                "time": 0,
                "_isResource": false,
                "request": {
                    "method": "GET",
                    "url": "https://mail.etu.univ-lorraine.fr/zimbra/js/Zimlet_all.js.zgz?v=220726112844",
                    "httpVersion": "HTTP/2.0",
                    "cookies": [
                        {
                            "name": "UL-AUTHTRACE",
                            "value": "TRACE-4112-JXC2ao-ce1Zm2D1QbNJ8m16DlLYEFM9cZACAS-LEIA",
                            "httpOnly": false
                        },
                        {
                            "name": "JSESSIONID",
                            "value": "node01ewv5q86m64i21vkfxtflutla86873.node0",
                            "httpOnly": false
                        },
                        {
                            "name": "ZM_AUTH_TOKEN",
                            "value": "0_a80cf5ba65b244a73d683b9482d447f357160abf_69643d33363a62636630316235642d373166332d343464652d396163322d3235343836613061666531323b6578703d31333a313637303336363239323738353b747970653d363a7a696d6272613b753d313a613b7469643d31303a313932323132303830333b76657273696f6e3d31343a382e382e31355f47415f333836393b",
                            "httpOnly": false
                        }
                    ],
                    "headers": [
                        {
                            "name": "accept",
                            "value": "*/*"
                        },
                        {
                            "name": "accept-encoding",
                            "value": "gzip, deflate, br"
                        },
                        {
                            "name": "accept-language",
                            "value": "fr,fr-FR;q=0.8,en-US;q=0.5,en;q=0.3"
                        },
                        {
                            "name": "cookie",
                            "value": "UL-AUTHTRACE=TRACE-4112-JXC2ao-ce1Zm2D1QbNJ8m16DlLYEFM9cZACAS-LEIA; JSESSIONID=node01ewv5q86m64i21vkfxtflutla86873.node0; ZM_AUTH_TOKEN=0_a80cf5ba65b244a73d683b9482d447f357160abf_69643d33363a62636630316235642d373166332d343464652d396163322d3235343836613061666531323b6578703d31333a313637303336363239323738353b747970653d363a7a696d6272613b753d313a613b7469643d31303a313932323132303830333b76657273696f6e3d31343a382e382e31355f47415f333836393b"
                        },
                        {
                            "name": "dnt",
                            "value": "1"
                        },
                        {
                            "name": "referer",
                            "value": "https://mail.etu.univ-lorraine.fr/"
                        },
                        {
                            "name": "sec-fetch-dest",
                            "value": "empty"
                        },
                        {
                            "name": "sec-fetch-mode",
                            "value": "cors"
                        },
                        {
                            "name": "sec-fetch-site",
                            "value": "same-origin"
                        },
                        {
                            "name": "te",
                            "value": "trailers"
                        },
                        {
                            "name": "user-agent",
                            "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:102.0) Gecko/20100101 Firefox/102.0"
                        }
                    ],
                    "queryString": [
                        {
                            "name": "v",
                            "value": "220726112844"
                        }
                    ],
                    "headersSize": -1,
                    "bodySize": -1
                },
                "response": {
                    "status": 200,
                    "statusText": "OK",
                    "httpVersion": "HTTP/2.0",
                    "cookies": null,
                    "headers": [
                        {
                            "name": "accept-ranges",
                            "value": "bytes"
                        },
                        {
                            "name": "cache-control",
                            "value": "public, max-age=2595600"
                        },
                        {
                            "name": "content-type",
                            "value": "text/javascript"
                        },
                        {
                            "name": "date",
                            "value": "Tue, 06 Dec 2022 10:38:19 GMT"
                        },
                        {
                            "name": "expires",
                            "value": "Thu, 5 Jan 2023 11:38:19 GMT"
                        },
                        {
                            "name": "last-modified",
                            "value": "Tue, 26 Jul 2022 15:30:28 GMT"
                        },
                        {
                            "name": "server",
                            "value": "nginx"
                        },
                        {
                            "name": "x-frame-options",
                            "value": "SAMEORIGIN"
                        },
                        {
                            "name": "x-recouv-allowed",
                            "value": "Recouv"
                        }
                    ],
                    "content": {
                        "size": 43318,
                        "mimeType": "",
                        "text": "\n/* \n* Zimbra Collaboration Suite Web Client\n* Copyright (C) 2004-2017 Synacor, Inc.\n* https://www.zimbra.com/license\n*/\nif(AjxPackage.define(\"Zimlet\")){if(AjxPackage.define(\"zimbraMail.share.model.ZmZimletBase\")){ZmZimletBase=function(){};\nZmZimletBase.PANEL_MENU=1;\nZmZimletBase.CONTENTOBJECT_MENU=2;\nZmZimletBase.PROXY=\"/service/proxy?target=\";\nZmZimletBase.prototype=new ZmObjectHandler();\nZmZimletBase.prototype._init=function(d,b){this._passRpcErrors=false;\nthis._zimletContext=d;\nthis._dwtShell=b;\nthis._origIcon=this.xmlObj().icon;\nthis.__zimletEnabled=true;\nthis.name=this.xmlObj().name;\nvar a=this.xmlObj(\"contentObject\");\nif(a&&a.matchOn){var c=a.matchOn.regex;\nif(!c.attrs){c.attrs=\"ig\"\n}this.RE=new RegExp(c._content,c.attrs);\nif(a.type){this.type=a.type\n}ZmObjectHandler.prototype.init.call(this,this.type,a[\"class\"])\n}};\nZmZimletBase.prototype.init=function(){};\nZmZimletBase.prototype.toString=function(){return this.name\n};\nZmZimletBase.prototype.getShell=function(){return this._dwtShell\n};\nZmZimletBase.prototype.addSearchDomainItem=function(b,a,d,e){var c=appCtxt.getSearchController().getSearchToolbar();\nreturn c?c.createCustomSearchBtn(b,a,d,e):null\n};\nZmZimletBase.prototype.getSearchQuery=function(){var a=appCtxt.getSearchController().getSearchToolbar();\nreturn a?a.getSearchFieldValue():null\n};\nZmZimletBase.prototype.getZimletManager=function(){return appCtxt.getZimletMgr()\n};\nZmZimletBase.prototype.xmlObj=function(a){return !a?this._zimletContext:this._zimletContext.getVal(a)\n};\nZmZimletBase.prototype.getZimletContext=function(){return this._zimletContext\n};\nZmZimletBase.prototype.doDrag=function(a){return true\n};\nZmZimletBase.prototype.doDrop=function(a){};\nZmZimletBase.prototype._dispatch=function(c){var f=[];\nvar e;\nvar b;\nfor(var d=1;\nd<arguments.length;\n++d){f[d-1]=arguments[d]\n}var a;\nswitch(c){case\"singleClicked\":case\"doubleClicked\":e=this.xmlObj(\"zimletPanelItem\")[c==\"singleClicked\"?\"onClick\":\"onDoubleClick\"];\nif(!e){break\n}b=e.actionUrl;\nif(b){b=this.xmlObj().makeURL(b)\n}if(e&&(e.canvas||b)){a=this.makeCanvas(e.canvas,b)\n}break;\ncase\"doDrop\":e=f[1];\nif(!e){break\n}if(e.canvas){a=e.canvas[0]\n}b=e.actionUrl;\nif(b&&a){b=this.xmlObj().makeURL(b[0],f[0]);\na=this.makeCanvas(a,b);\nreturn\"\"\n}break\n}if(a){f.push(a)\n}return this.xmlObj().callHandler(c,f)\n};\nZmZimletBase.prototype.singleClicked=function(a){};\nZmZimletBase.prototype.doubleClicked=function(a){this.createPropertyEditor()\n};\nZmZimletBase.prototype.onMsgView=function(c,a,b){};\nZmZimletBase.prototype.onFindMsgObjects=function(a,b){};\nZmZimletBase.prototype.onContactView=function(a,b){};\nZmZimletBase.prototype.onContactEdit=function(b,a,c){};\nZmZimletBase.prototype.initializeToolbar=function(d,c,b,a){};\nZmZimletBase.prototype.onShowView=function(a){};\nZmZimletBase.prototype.onSearch=function(a){};\nZmZimletBase.prototype.onSearchButtonClick=function(a){};\nZmZimletBase.prototype.onKeyPressSearchField=function(a){};\nZmZimletBase.prototype.onParticipantActionMenuInitialized=function(a,b){};\nZmZimletBase.prototype.onActionMenuInitialized=function(a,b){};\nZmZimletBase.prototype.onMailFlagClick=function(b,a){};\nZmZimletBase.prototype.onTagAction=function(b,a,c){};\nZmZimletBase.prototype.emailErrorCheck=function(b,a){};\nZmZimletBase.prototype.appendExtraSignature=function(a){};\nZmZimletBase.prototype.onMailConfirm=function(a,b){};\nZmZimletBase.prototype.portletCreated=function(a){};\nZmZimletBase.prototype.portletRefreshed=function(a){};\nZmZimletBase.prototype.match=function(b,c){if(!this.RE){return null\n}this.RE.lastIndex=c;\nvar a=this.RE.exec(b);\nif(a){a.context=a\n}return a\n};\nZmZimletBase.prototype.clicked=function(d,f,b,e){var i=this.xmlObj(\"contentObject.onClick\");\nif(i&&i.actionUrl){var g=this._createContentObj(f,b);\nvar a=e.docX;\nvar h=e.docY;\nthis.xmlObj().handleActionUrl(i.actionUrl,i.canvas,g,null,a,h)\n}};\nZmZimletBase.prototype.toolTipPoppedUp=function(f,g,d,b){var i=this.xmlObj(\"contentObject\");\nif(i&&i.toolTip){var h=this._createContentObj(g,d);\nvar a;\nif(i.toolTip instanceof Object&&i.toolTip.actionUrl){this.xmlObj().handleActionUrl(i.toolTip.actionUrl,[{type:\"tooltip\"}],h,b);\na=ZmMsg.zimletFetchingTooltipData\n}else{if(h.objectContent instanceof AjxEmailAddress){h.objectContent=h.objectContent.address\n}a=this.xmlObj().process(i.toolTip,h)\n}b.innerHTML=a;\nDwt.setSize(b,parseInt(i.toolTip.width)||Dwt.DEFAULT,parseInt(i.toolTip.height)||Dwt.DEFAULT);\nif(this._isTooltipSticky()){Dwt.setHandler(b,DwtEvent.ONCLICK,AjxCallback.simpleClosure(this.setTooltipSticky,this,[true]));\nvar e=DwtOutsideMouseEventMgr.INSTANCE;\ne.startListening({id:\"ZimletTooltip\",elementId:b.id,outsideListener:new AjxListener(this,this.setTooltipSticky,[false,true])})\n}}};\nZmZimletBase.prototype.setTooltipSticky=function(c,d){var a=DwtShell.getShell(window);\nvar b=a.getToolTip();\nb.setSticky(c);\nif(!c&&d){b.popdown()\n}};\nZmZimletBase.prototype.toolTipPoppedDown=function(d,e,b,a){var c=DwtOutsideMouseEventMgr.INSTANCE;\nc.stopListening({id:\"ZimletTooltip\",elementId:a?a.id:\"\"})\n};\nZmZimletBase.prototype.getActionMenu=function(c,b,a){if(this._zimletContext._contentActionMenu instanceof AjxCallback){this._zimletContext._contentActionMenu=this._zimletContext._contentActionMenu.run()\n}this._actionObject=c;\nthis._actionSpan=b;\nthis._actionContext=a;\nreturn this._zimletContext._contentActionMenu\n};\nZmZimletBase.prototype.menuItemSelected=function(b,e,c,d,a){};\nZmZimletBase.prototype.createPropertyEditor=function(k){var b=this.xmlObj().userProperties;\nif(!b||!b.length){return\n}for(var c=0;\nc<b.length;\n++c){b[c].label=this._zimletContext.processMessage(b[c].label);\nif(b[c].type==\"enum\"){var d=b[c].item;\nfor(var a=0;\nd!=null&&a<d.length;\na++){if(d[a]==null){continue\n}var l=d[a];\nl.label=this._zimletContext.processMessage(l.label)\n}}}if(!this._dlg_propertyEditor){var g=new DwtComposite(this.getShell());\nvar e=this._propertyEditor=new DwtPropertyEditor(g,true);\ne.initProperties(b);\nvar h={title:this._zimletContext.processMessage(this.xmlObj(\"description\"))+\" preferences\",view:g};\nvar f=this._dlg_propertyEditor=this._createDialog(h);\ne.setFixedLabelWidth();\ne.setFixedFieldWidth();\nf.setButtonListener(DwtDialog.OK_BUTTON,new AjxListener(this,function(){this.saveUserProperties(k)\n}))\n}this._dlg_propertyEditor.popup()\n};\nZmZimletBase.prototype.displayErrorMessage=function(c,a,b){appCtxt.showError({errMsg:c,details:a,title:b||AjxMessageFormat.format(ZmMsg.zimletErrorTitle,this.xmlObj().label)})\n};\nZmZimletBase.prototype.displayStatusMessage=function(a){appCtxt.setStatusMsg(a)\n};\nZmZimletBase.prototype.getResource=function(a){return this.xmlObj().getUrl()+a\n};\nZmZimletBase.prototype.getType=function(){return this.type\n};\nZmZimletBase.prototype.requestFinished=function(c,b,a){this.resetIcon();\nif(!(b||this._passRpcErrors)&&!a.success){this.displayErrorMessage(\"We could not connect to the remote server, or an error was returned.<br />Error code: \"+a.status,a.text)\n}else{if(c){c.run(a)\n}}};\nZmZimletBase.prototype.sendRequest=function(a,b,e,g,f,d){if(d==null){d=false\n}if(a instanceof AjxSoapDoc){a=['<?xml version=\"1.0\" encoding=\"utf-8\" ?>',a.getXml()].join(\"\")\n}this.setBusyIcon();\nb=ZmZimletBase.PROXY+AjxStringUtil.urlComponentEncode(b);\nvar c=new AjxCallback(this,this.requestFinished,[g,d]);\nreturn AjxRpc.invoke(a,b,e,c,f)\n};\nZmZimletBase.prototype.enableContextMenuItem=function(b,c,a){};\nZmZimletBase.prototype.getConfigProperty=function(a){};\nZmZimletBase.prototype.getUserProperty=function(a){return this.xmlObj().getPropValue(a)\n};\nZmZimletBase.prototype.setUserProperty=function(a,c,b,d){this.xmlObj().setPropValue(a,c);\nif(b){this.saveUserProperties(d)\n}};\nZmZimletBase.prototype.checkProperties=function(a){return true\n};\nZmZimletBase.prototype.setBusyIcon=function(){this.setIcon(\"ZimbraIcon DwtWait16Icon\")\n};\nZmZimletBase.prototype.addCustomMimeHeaders=function(a){};\nZmZimletBase.prototype.setIcon=function(d){if(!this.xmlObj(\"zimletPanelItem\")){return\n}this.xmlObj().icon=d;\nvar e;\nif(appCtxt.multiAccounts){var a=appCtxt.getCurrentApp().getOverviewContainer();\nvar f=appCtxt.getOverviewId([a.containerId,ZmOrganizer.LABEL[ZmOrganizer.ZIMLET]],null);\nvar c=a.getOverview(f);\ne=c&&c.getTreeItemById&&c.getTreeItemById(this.xmlObj().getOrganizer().id)\n}else{var b=appCtxt.getAppViewMgr().getViewComponent(ZmAppViewMgr.C_TREE);\ne=b&&b.getTreeItemById&&b.getTreeItemById(this.xmlObj().getOrganizer().id)\n}if(e){e.setImage(d)\n}};\nZmZimletBase.prototype.resetIcon=function(){this.setIcon(this._origIcon)\n};\nZmZimletBase.prototype.resetToolbarOperations=function(b,a){};\nZmZimletBase.prototype.saveUserProperties=function(h){var d=AjxSoapDoc.create(\"ModifyPropertiesRequest\",\"urn:zimbraAccount\");\nvar c=this.xmlObj().userProperties;\nvar a=this.checkProperties(c);\nif(!a){return\"\"\n}if(typeof a==\"string\"){return this.displayErrorMessage(a)\n}if(this._propertyEditor){if(!this._propertyEditor.validateData()){return\"\"\n}}for(var b=0;\nb<c.length;\n++b){var e=d.set(\"prop\",c[b].value);\ne.setAttribute(\"zimlet\",this.xmlObj(\"name\"));\ne.setAttribute(\"name\",c[b].name)\n}var g=null;\nif(h){g=new AjxCallback(this,function(i){h.run()\n})\n}var f={soapDoc:d,callback:g,asyncMode:true,sensitive:true};\nappCtxt.getAppController().sendRequest(f);\nif(this._dlg_propertyEditor){this._dlg_propertyEditor.popdown();\nthis._dlg_propertyEditor.dispose();\nthis._propertyEditor=null;\nthis._dlg_propertyEditor=null\n}return\"\"\n};\nZmZimletBase.prototype.getUserPropertyInfo=function(a){return this.xmlObj().getProp(a)\n};\nZmZimletBase.prototype.getMessage=function(b){var a=window[this.xmlObj().name];\nreturn a?a[b]:\"???\"+b+\"???\"\n};\nZmZimletBase.prototype.getMessages=function(){return window[this.xmlObj().name]||{}\n};\nZmZimletBase.prototype.getConfig=function(a){return this.xmlObj().getConfig(a)\n};\nZmZimletBase.prototype.getBoolConfig=function(b,a){var c=AjxStringUtil.trim(this.getConfig(b));\nif(c!=null){if(arguments.length<2){a=false\n}if(a){c=!/^(0|false|off|no)$/i.test(c)\n}else{c=/^(1|true|on|yes)$/i.test(c)\n}}else{c=a\n}return c\n};\nZmZimletBase.prototype.setEnabled=function(a){if(arguments.length==0){a=true\n}this.__zimletEnabled=a\n};\nZmZimletBase.prototype.getEnabled=function(){return this.__zimletEnabled\n};\nZmZimletBase.prototype.getUsername=function(){return appCtxt.get(ZmSetting.USERNAME)\n};\nZmZimletBase.prototype.getUserID=function(){return appCtxt.get(ZmSetting.USERID)\n};\nZmZimletBase.encodeId=function(a){return a.replace(/[^A-Za-z0-9]/g,\"\")\n};\nZmZimletBase.prototype.hoverOver=function(b,d,a,g,e){var c=DwtShell.getShell(window);\nvar f=c.getToolTip();\nf.setContent('<div id=\"zimletTooltipDiv\"/>',true);\nthis.toolTipPoppedUp(e,b,d,document.getElementById(\"zimletTooltipDiv\"),f);\nf.popup(a,g,true,!this._isTooltipSticky(),null,null,new AjxCallback(this,this.hoverOut,b,d,e))\n};\nZmZimletBase.prototype.hoverOut=function(a,c,d){var b=DwtShell.getShell(window);\nvar e=b.getToolTip();\nif(!e.getHovered()){e.popdown();\nthis.toolTipPoppedDown(d,a,c,document.getElementById(\"zimletTooltipDiv\"))\n}};\nZmZimletBase.prototype.makeCanvas=function(f,b,m,k){if(f&&f.length){f=f[0]\n}var d=null;\nvar a;\na=document.createElement(\"div\");\na.id=\"zimletCanvasDiv\";\nif(!f&&b){f={type:\"window\"}\n}if(f.style&&!f.type){f.type=f.style\n}switch(f.type){case\"window\":var n=b;\nif(n==null){n=appContextPath+\"/public/blank.html\"\n}var e=this.xmlObj(\"contentObject\");\nif(e&&!f.width&&e.onClick){if(e.onClick.canvas.props==\"\"){d=window.open(n)\n}else{if(e.onClick.canvas.props!=\"\"){d=window.open(n,this.xmlObj(\"name\"),e.onClick.canvas.props)\n}}}else{var i=f.props?[f.props]:[\"toolbar=yes,location=yes,status=yes,menubar=yes,scrollbars=yes,resizable=yes\"];\nif(f.width){i.push(\"width=\"+f.width)\n}if(f.height){i.push(\"height=\"+f.height)\n}i=i.join(\",\");\nd=window.open(n,this.xmlObj(\"name\"),i)\n}if(!b){}break;\ncase\"dialog\":var j=new DwtComposite(this.getShell());\nif(f.width){j.setSize(f.width,Dwt.DEFAULT)\n}if(f.height){j.setSize(Dwt.DEFAULT,f.height)\n}var l=f.title||(\"Zimlet dialog (\"+this.xmlObj(\"description\")+\")\");\nl=this._zimletContext.processMessage(l);\nd=this._createDialog({view:j,title:l});\nd.view=j;\nif(b){var c=document.createElement(\"iframe\");\nc.src=b;\nvar h=j.getSize();\nif(!AjxEnv.isIE){h.x-=4;\nh.y-=4\n}c.style.width=h.x+\"px\";\nc.style.height=h.y+\"px\";\nj.getHtmlElement().appendChild(c);\nd.iframe=c\n}else{j.getHtmlElement().appendChild(a)\n}d.popup();\nbreak;\ncase\"tooltip\":var g=DwtShell.getShell(window);\nvar d=g.getToolTip();\nd.setContent('<div id=\"zimletTooltipDiv\" />',true);\nvar c=document.createElement(\"iframe\");\nc.setAttribute(\"width\",f.width);\nc.setAttribute(\"height\",f.height);\nc.setAttribute(\"style\",\"border:0px\");\nc.src=b;\ndocument.getElementById(\"zimletTooltipDiv\").appendChild(c);\nd.popup(m,k,true);\nbreak\n}return d\n};\nZmZimletBase.prototype.applyXslt=function(d,c){var b=this.xmlObj().getXslt(d);\nif(!b){throw new Error(\"Cannot create XSLT engine: \"+d)\n}if(c instanceof AjxXmlDoc){c=c.getDoc()\n}var a=b.transformToDom(c);\nreturn AjxXmlDoc.createFromDom(a)\n};\nZmZimletBase.prototype.createApp=function(h,c,i,f,a){AjxDispatcher.require(\"ZimletApp\");\nvar g=[this.name,Dwt.getNextId()].join(\"_\");\nvar e=appCtxt.getAppController();\nvar d={text:h,image:c,tooltip:i,style:a};\nif(f!=null&&f>=0){d.index=f\n}e.getAppChooser().addButton(g,d);\nvar b=new ZmZimletApp(g,this,DwtShell.getShell(window));\ne.addApp(b);\nreturn g\n};\nZmZimletBase.prototype.appActive=function(a,b){};\nZmZimletBase.prototype.appLaunch=function(a){};\nZmZimletBase.prototype.onSelectApp=function(a){};\nZmZimletBase.prototype.onAction=function(d,c,a,b){};\nZmZimletBase.prototype._createContentObj=function(c,a){var d={objectContent:c};\nif(a&&(a instanceof Array)){for(var b=0;\nb<a.length;\n++b){d[\"$\"+b]=a[b]\n}}return d\n};\nZmZimletBase.prototype._createDialog=function(a){a.parent=this.getShell();\nreturn new ZmDialog(a)\n};\nZmZimletBase.prototype._getHtmlContent=function(d,a,e,c){if(e instanceof AjxEmailAddress){e=e.address\n}var b=this.xmlObj().getVal(\"contentObject\");\nif(b&&b.onClick){d[a++]=AjxStringUtil.htmlEncode(e)\n}else{d[a++]=AjxStringUtil.htmlEncode(e,true)\n}return a\n};\nZmZimletBase.prototype.getMsgsForConv=function(f,c){if(c instanceof Array){c=c[0]\n}var b=AjxDispatcher.run(\"GetConvListController\");\nvar a=b.getList();\nvar d=a.getById(c.id);\nvar e=new AjxCallback(this,this._handleTranslatedConv,[f,d]);\nd.loadMsgs({fetchAll:true},e)\n};\nZmZimletBase.prototype._handleTranslatedConv=function(b,a){if(b){b.run(ZmZimletContext._translateZMObject(a.msgs.getArray()))\n}};\nZmZimletBase.prototype._isTooltipSticky=function(){var a=this.xmlObj(\"contentObject\");\nreturn(a&&a.toolTip&&a.toolTip.sticky&&a.toolTip.sticky.toLowerCase()===\"true\")\n}\n}if(AjxPackage.define(\"zimbraMail.share.model.ZmZimletContext\")){ZmZimletContext=function(e,b){this.json=ZmZimletContext.sanitize(b,\"zimlet\",ZmZimletContext.RE_ARRAY_ELEMENTS);\nthis.id=e;\nthis.icon=\"ZimbraIcon\";\nthis.ctxt=b.zimletContext;\nthis.config=b.zimletConfig;\nb=b.zimlet[0];\nthis.name=b.name;\nthis._url=this.ctxt[0].baseUrl;\nthis.priority=this.ctxt[0].priority;\nthis.description=b.description;\nthis.version=b.version;\nthis.label=b.label;\nthis.includes=this.json.zimlet.include||[];\nthis.includes.push([appContextPath,\"/messages/\",this.name,\".js?v=\",cacheKillerVersion].join(\"\"));\nthis.includeCSS=this.json.zimlet.includeCSS;\nif(b.serverExtension&&b.serverExtension[0].hasKeyword){this.keyword=b.serverExtension[0].hasKeyword\n}this.targets={};\nvar a=(b.target||\"main\").split(\" \");\nfor(var c=0;\nc<a.length;\nc++){this.targets[a[c]]=true\n}this._contentActionMenu=null;\nif(b.contentObject){this.contentObject=b.contentObject[0];\nif(this.contentObject.type){this.type=this.contentObject.type\n}if(this.contentObject.contextMenu){if(this.contentObject.contextMenu instanceof Array){this.contentObject.contextMenu=this.contentObject.contextMenu[0]\n}this._contentActionMenu=new AjxCallback(this,this._makeMenu,[this.contentObject.contextMenu.menuItem])\n}}this._panelActionMenu=null;\nif(b.zimletPanelItem&&!appCtxt.isChildWindow){this.zimletPanelItem=b.zimletPanelItem[0];\nif(this.zimletPanelItem.label){this.zimletPanelItem.label=this.process(this.zimletPanelItem.label)\n}if(this.zimletPanelItem.toolTipText&&this.zimletPanelItem.toolTipText[0]){this.zimletPanelItem.toolTipText=this.process(this.zimletPanelItem.toolTipText[0]._content)\n}if(this.zimletPanelItem.icon){this.icon=this.zimletPanelItem.icon\n}if(this.zimletPanelItem.contextMenu){if(this.zimletPanelItem.contextMenu instanceof Array){this.zimletPanelItem.contextMenu=this.zimletPanelItem.contextMenu[0]\n}this._panelActionMenu=new AjxCallback(this,this._makeMenu,[this.zimletPanelItem.contextMenu.menuItem])\n}if(this.zimletPanelItem.onClick instanceof Array){this.zimletPanelItem.onClick=this.zimletPanelItem.onClick[0]\n}if(this.zimletPanelItem.onDoubleClick instanceof Array){this.zimletPanelItem.onDoubleClick=this.zimletPanelItem.onDoubleClick[0]\n}}if(b.handlerObject){this.handlerObject=b.handlerObject[0]._content\n}var d=b.portlet&&b.portlet[0];\nif(d){d=ZmZimletContext.sanitize(d);\nd.portletProperties=(d.portletProperties&&d.portletProperties.property)||{};\nthis.portlet=d\n}this.userProperties=b.userProperties?b.userProperties[0]:[];\nthis._propsById={};\nif(b.userProperties){this._translateUserProp()\n}if(this.config){if(this.config instanceof Array||(appCtxt.isChildWindow&&this.config.length&&this.config[0])){this.config=this.config[0]\n}this._translateConfig()\n}this._handleMenuItemSelected=new AjxListener(this,this._handleMenuItemSelected)\n};\nZmZimletContext.prototype.constructor=ZmZimletContext;\nZmZimletContext.RE_ARRAY_ELEMENTS=/^(dragSource|include|includeCSS|menuItem|param|property|resource|portlet)$/;\nZmZimletContext.APP={contextPath:appContextPath,currentSkin:appCurrentSkin};\nZmZimletContext.RE_SCAN_APP=/(^|[^\\\\])\\$\\{app\\.([\\$a-zA-Z0-9_]+)\\}/g;\nZmZimletContext.RE_SCAN_OBJ=/(^|[^\\\\])\\$\\{(?:obj|src)\\.([\\$a-zA-Z0-9_]+)\\}/g;\nZmZimletContext.RE_SCAN_PROP=/(^|[^\\\\])\\$\\{prop\\.([\\$a-zA-Z0-9_]+)\\}/g;\nZmZimletContext.RE_SCAN_MSG=/(^|[^\\\\])\\$\\{msg\\.([\\$a-zA-Z0-9_]+)\\}/g;\nZmZimletContext.__RE_SCAN_SETTING=/\\$\\{setting\\.([\\$a-zA-Z0-9_]+)\\}/g;\nZmZimletContext.sanitize=function(c,a,b){function d(h,e){var f,j,g;\nif(h instanceof DwtControl){return h\n}else{if(h instanceof Array||AjxUtil.isArray1(h)){if(h.length==1&&!(b&&b.test(e))){f=d(h[0],e)\n}else{f=[];\nfor(g=0;\ng<h.length;\n++g){f[g]=d(h[g],e)\n}}}else{if(h&&typeof h==\"object\"){if(h._content){f=new String(h._content)\n}else{f={}\n}for(g in h){f[g]=d(h[g],g)\n}}else{f=h\n}}}return f\n}return d(c,a)\n};\nZmZimletContext.prototype.toString=function(){return\"ZmZimletContext - \"+this.name\n};\nZmZimletContext.prototype._finished_loadIncludes=function(){this.label=this.label&&this.processMessage(this.label);\nthis.description=this.description&&this.processMessage(this.description);\nvar c=this.handlerObject?window[this.handlerObject]:ZmZimletBase;\nif(!c){return\n}this.handlerObject=new c();\nif(!this.handlerObject._init){var e=[\"ERROR - Zimlet handler (\",this.name,\") not defined. \",\"Make sure the Zimlet name and handlerObject defined in \",this.name,\".xml are different.\"].join(\"\")\n}this.handlerObject._init(this,DwtShell.getShell(window));\nif(this.contentObject){appCtxt.getZimletMgr().registerContentZimlet(this.handlerObject,this.type,this.priority)\n}this.handlerObject.init();\nthis.handlerObject._zimletContext=this;\nif(this._id){var f=appCtxt.isOffline?appCtxt.accountList.mainAccount:null;\nvar b=appCtxt.getZimletTree(f);\nif(b){var a=b.getById(this._id);\na.resetNames()\n}}if(appCtxt.get(ZmSetting.PORTAL_ENABLED)&&!appCtxt.isChildWindow){var d={name:\"Portal\",callback:new AjxCallback(this,this._finished_loadIncludes2)};\nAjxPackage.require(d)\n}};\nZmZimletContext.prototype._finished_loadIncludes2=function(){appCtxt.getApp(ZmApp.PORTAL).getPortletMgr().zimletLoaded(this)\n};\nZmZimletContext.prototype.getOrganizer=function(){return this._organizer\n};\nZmZimletContext.prototype.getUrl=function(){return this._url\n};\nZmZimletContext.prototype.getVal=function(c){var a=this.json.zimlet;\nvar d=c.split(\".\");\nfor(var b=0;\nb<d.length;\nb++){a=a[d[b]]\n}return a\n};\nZmZimletContext.prototype.callHandler=function(a,b){if(this.handlerObject){var c=this.handlerObject[a];\nif(typeof c==\"function\"){if(typeof b==\"undefined\"){b=[]\n}else{if(!(b instanceof Array)){b=[b]\n}}return c.apply(this.handlerObject,b)\n}}return null\n};\nZmZimletContext.prototype._translateUserProp=function(){var b=this.userProperties=this.userProperties.property;\nfor(var c=0;\nc<b.length;\n++c){this._propsById[b[c].name]=b[c]\n}};\nZmZimletContext.prototype.setPropValue=function(a,b){if(!this._propsById[a]){var c={name:a};\nthis.userProperties.push(c);\nthis._propsById[a]=c\n}this._propsById[a].value=b\n};\nZmZimletContext.prototype.getPropValue=function(a){return this._propsById[a]&&this._propsById[a].value\n};\nZmZimletContext.prototype.getProp=function(a){return this._propsById[a]\n};\nZmZimletContext.prototype._translateConfig=function(){if(!this.config){return\n}if(this.config.global&&this.config.global[0]){var d=this.config.global[0].property;\nthis.config.global={};\nfor(var b in d){this.config.global[d[b].name]=d[b]._content\n}}if(this.config.local&&this.config.local[0]){var c=this.config.local[0].property;\nthis.config.local={};\nfor(var a in c){this.config.local[c[a].name]=c[a]._content\n}}};\nZmZimletContext.prototype.getConfig=function(b){var a=(this.config&&this.config.length&&this.config[0])?this.config[0]:this.config;\nif(!a){return\n}if(a.local&&a.local[b]){return a.local[b]\n}if(a.global&&a.global[b]){return a.global[b]\n}return null\n};\nZmZimletContext.prototype.getPanelActionMenu=function(){if(this._panelActionMenu instanceof AjxCallback){this._panelActionMenu=this._panelActionMenu.run()\n}return this._panelActionMenu\n};\nZmZimletContext.prototype.setPanelActionMenu=function(c){if(c==null||(c instanceof ZmActionMenu)==false){return\n}var a=c.getMenuItems();\nfor(menuId in a){var b=a[menuId];\nif(b.id!=null||b.id!=\"\"){b.addSelectionListener(this._handleMenuItemSelected)\n}}this._panelActionMenu=c\n};\nZmZimletContext.prototype._makeMenu=function(d){var f=new ZmActionMenu({parent:DwtShell.getShell(window),menuItems:ZmOperation.NONE});\nfor(var a=0;\na<d.length;\n++a){var c=d[a];\nif(!c.id){f.createSeparator()\n}else{var e={image:c.icon,text:this.process(c.label),disImage:c.disabledIcon};\nvar b=f.createMenuItem(c.id,e);\nb.setData(\"xmlMenuItem\",c);\nb.addSelectionListener(this._handleMenuItemSelected);\nif(c.menuItem){b.setMenu(this._makeMenu(c.menuItem))\n}}}return f\n};\nZmZimletContext.prototype._handleMenuItemSelected=function(a){var b=a.item.getData(\"xmlMenuItem\");\nif(b.actionUrl){this.handleActionUrl(b.actionUrl[0],b.canvas)\n}else{this.callHandler(\"menuItemSelected\",[b.id,b,a])\n}};\nZmZimletContext.prototype.process=function(c,b,a){if(b){c=this.processString(c,b)\n}c=this.processMessage(c);\nc=this.replaceObj(ZmZimletContext.RE_SCAN_PROP,c,a||this._propsById);\nc=this.replaceObj(ZmZimletContext.RE_SCAN_APP,c,ZmZimletContext.APP);\nc=c.replace(ZmZimletContext.__RE_SCAN_SETTING,ZmZimletContext.__replaceSetting);\nreturn c\n};\nZmZimletContext.prototype.processString=function(b,a){return this.replaceObj(ZmZimletContext.RE_SCAN_OBJ,b,a)\n};\nZmZimletContext.processMessage=function(a,c){if(!window[a]){return c\n}var b=window[a];\nreturn ZmZimletContext.replaceObj(ZmZimletContext.RE_SCAN_MSG,c,b)\n};\nZmZimletContext.replaceObj=function(a,c,b){return String(c).replace(a,function(h,g,j){var d=g;\nif(b instanceof Array&&b.length>1){for(var e=0;\ne<b.length;\ne++){if(d){d+=\",\"\n}var f=b[e];\nif(f[j] instanceof Object){d+=f[j].value\n}else{d+=f[j]\n}}}else{if(typeof b[j]!=\"undefined\"){if(b[j] instanceof Object){d+=b[j].value\n}else{d+=b[j]\n}}else{d+=\"(UNDEFINED - str '\"+h+\"' obj '\"+b+\"')\"\n}}return d\n})\n};\nZmZimletContext.prototype.processMessage=function(a){return ZmZimletContext.processMessage(this.name,a)\n};\nZmZimletContext.prototype.replaceObj=ZmZimletContext.replaceObj;\nZmZimletContext.__replaceSetting=function(a,b){return appCtxt.get(b)\n};\nZmZimletContext.prototype.makeURL=function(d,g,j){var b=this.process(d.target,g,j);\nvar e=[];\nif(d.param){var k=d.param;\nfor(var h=0;\nh<k.length;\n++h){var c=AjxStringUtil.trim(k[h]._content||k[h]);\nc=this.process(c,g,j);\ne.push([AjxStringUtil.urlEncode(k[h].name),\"=\",AjxStringUtil.urlEncode(c)].join(\"\"))\n}var l=d.paramStart||\"?\";\nvar f=d.paramJoin||\"&\";\nb=[b,l,e.join(f)].join(\"\")\n}return b\n};\nZmZimletContext.prototype.handleActionUrl=function(e,c,f,h,a,g){var b=this.makeURL(e,f);\nvar d=e.xslt&&this.getXslt(e.xslt);\nif(h||d){if(!h){c=this.handlerObject.makeCanvas(c,null,a,g);\nh=document.getElementById(\"zimletCanvasDiv\")\n}b=ZmZimletBase.PROXY+AjxStringUtil.urlComponentEncode(b);\nAjxRpc.invoke(null,b,null,new AjxCallback(this,this._rpcCallback,[d,h]),true)\n}else{this.handlerObject.makeCanvas(c,b,a,g)\n}};\nZmZimletContext._translateZMObject=function(d){var c=[].concat(d);\nvar b=[];\nfor(x=0;\nx<c.length;\nx++){var a=c[x].toString();\nb[x]=(ZmZimletContext._zmObjectTransformers[a])?ZmZimletContext._zmObjectTransformers[a](c[x]):c[x]\n}return b\n};\nZmZimletContext._zmObjectTransformers={ZmMailMsg:function(e){var c=[];\ne=(e instanceof Array)?e:[e];\nfor(var b=0;\nb<e.length;\nb++){var a={TYPE:\"ZmMailMsg\"};\nvar d=e[b];\na.id=d.id;\na.convId=d.cid;\na.from=d.getAddresses(AjxEmailAddress.FROM).getArray();\na.to=d.getAddresses(AjxEmailAddress.TO).getArray();\na.cc=d.getAddresses(AjxEmailAddress.CC).getArray();\na.subject=d.subject;\na.date=d.date;\na.size=d.size;\na.fragment=d.fragment;\na.tags=d.tags;\na.unread=d.isUnread;\na.attachment=d.attachments.length>0;\na.attlinks=d._attLinks||d.getAttachmentLinks();\na.sent=d.isSent;\na.replied=d.isReplied;\na.draft=d.isDraft;\na.body=ZmZimletContext._getMsgBody(d);\na.srcObj=d;\nc[b]=a\n}if(c.length==1){return c[0]\n}else{c.TYPE=\"ZmMailMsg\";\nreturn c\n}},ZmConv:function(e){var c=[];\ne=(e instanceof Array)?e:[e];\nfor(var b=0;\nb<e.length;\nb++){var d=e[b];\nvar a={TYPE:\"ZmConv\"};\na.id=d.id;\na.subject=d.subject;\na.date=d.date;\na.fragment=d.fragment;\na.participants=d.participants.getArray();\na.numMsgs=d.numMsgs;\na.tags=d.tags;\na.unread=d.isUnread;\na.body=ZmZimletContext._getMsgBody(d.getFirstHotMsg());\na.srcObj=d;\nc[b]=a\n}if(c.length==1){return c[0]\n}else{c.TYPE=\"ZmConv\";\nreturn c\n}},ZmContact_fields:function(){return[ZmContact.F_assistantPhone,ZmContact.F_callbackPhone,ZmContact.F_carPhone,ZmContact.F_company,ZmContact.F_companyPhone,ZmContact.F_email,ZmContact.F_email2,ZmContact.F_email3,ZmContact.F_fileAs,ZmContact.F_firstName,ZmContact.F_homeCity,ZmContact.F_homeCountry,ZmContact.F_homeFax,ZmContact.F_homePhone,ZmContact.F_homePhone2,ZmContact.F_homePostalCode,ZmContact.F_homeState,ZmContact.F_homeStreet,ZmContact.F_homeURL,ZmContact.F_jobTitle,ZmContact.F_lastName,ZmContact.F_middleName,ZmContact.F_mobilePhone,ZmContact.F_namePrefix,ZmContact.F_nameSuffix,ZmContact.F_notes,ZmContact.F_otherCity,ZmContact.F_otherCountry,ZmContact.F_otherFax,ZmContact.F_otherPhone,ZmContact.F_otherPostalCode,ZmContact.F_otherState,ZmContact.F_otherStreet,ZmContact.F_otherURL,ZmContact.F_pager,ZmContact.F_workCity,ZmContact.F_workCountry,ZmContact.F_workFax,ZmContact.F_workPhone,ZmContact.F_workPhone2,ZmContact.F_workPostalCode,ZmContact.F_workState,ZmContact.F_workStreet,ZmContact.F_workURL]\n},ZmContact:function(h){h=(h instanceof Array)?h:[h];\nvar g=new Array();\nfor(var f=0;\nf<h.length;\nf++){var e={TYPE:\"ZmContact\"};\nvar c=this.ZmContact_fields;\nif(typeof c==\"function\"){c=this.ZmContact_fields=c()\n}var b=h[f].getAttrs();\nfor(var d=0;\nd<c.length;\n++d){e[c[d]]=b[c[d]]\n}e.id=h[f].id;\ng[f]=e\n}if(g.length==1){return g[0]\n}else{g.TYPE=\"ZmContact\";\nreturn g\n}},ZmFolder:function(c){var b=c[0]?c[0]:c;\nvar a={TYPE:\"ZmFolder\"};\na.id=b.id;\na.name=b.getName();\na.path=b.getPath();\na.isInTrash=b.isInTrash();\na.unread=b.numUnread;\na.total=b.numTotal;\na.url=b.getRestUrl();\na.srcObj=b;\nreturn a\n},ZmAppt:function(c){var b=c[0]?c[0]:c;\nb.getDetails();\nvar a={TYPE:\"ZmAppt\"};\na.id=b.id;\na.uid=b.uid;\na.subject=b.getName();\na.startDate=b.startDate;\na.endDate=b.endDate;\na.allDayEvent=b.isAllDayEvent();\na.exception=b.isException;\na.alarm=b.alarm;\na.otherAttendees=b.otherAttendees;\na.attendees=b.getAttendeesText(ZmCalBaseItem.PERSON);\na.resources=b.getAttendeesText(ZmCalBaseItem.EQUIPMENT);\na.location=b.getLocation();\na.notes=b.getNotesPart();\na.isRecurring=b.isRecurring();\na.timeZone=b.timezone;\na.srcObj=b;\nreturn a\n}};\nZmZimletContext.prototype.getXslt=function(b){if(!this._xslt){this._xslt={}\n}var a=this.getUrl()+b;\nif(!this._xslt[a]){this._xslt[a]=AjxXslt.createFromUrl(a)\n}return this._xslt[a]\n};\nZmZimletContext.prototype._rpcCallback=function(d,b,a){var c,f=a.xml;\nif(!f){var e=AjxXmlDoc.createFromXml(a.text);\nf=e.getDoc()\n}if(d){c=d.transformToString(f);\nif(!c){c=a.text\n}}else{c=f.innerHTML\n}b.innerHTML=c\n};\nZmZimletContext._getMsgBody=function(c){if(!c._loaded){return\"\"\n}var a=c.getBodyPart(ZmMimeTable.TEXT_PLAIN)||c.getBodyPart(ZmMimeTable.TEXT_HTML);\nvar b=a&&a.getContent();\nif(b&&(a.contentType==ZmMimeTable.TEXT_HTML)){var d=document.createElement(\"div\");\nd.innerHTML=b;\nb=AjxStringUtil.convertHtml2Text(d)\n}return b||\"\"\n}\n}if(AjxPackage.define(\"zimbraMail.share.model.ZmZimletMgr\")){ZmZimletMgr=function(){this._ZIMLETS=[];\nthis._ZIMLETS_BY_ID={};\nthis._CONTENT_ZIMLETS=[];\nthis._serviceZimlets=[];\nthis._requestNotHandledByAnyZimlet=[];\nthis.loaded=false\n};\nZmZimletMgr.prototype.constructor=ZmZimletMgr;\nZmZimletMgr.prototype.toString=function(){return\"ZmZimletMgr\"\n};\nZmZimletMgr._RE_REMOTE=/^((https?|ftps?):\\x2f\\x2f|\\x2f)/;\nZmZimletMgr.CORE_ZIMLETS=/com_zimbra_apptsummary|com_zimbra_date|com_zimbra_dnd|com_zimbra_email|com_zimbra_linkedin|com_zimbra_phone|com_zimbra_webex|com_zimbra_social|com_zimbra_srchhighlighter|com_zimbra_url/;\nZmZimletMgr.HAS_SENSITIVE_DATA_CONFIG_NAME=\"hasSensitiveData\";\nZmZimletMgr.prototype.isLoaded=function(){return this.loaded\n};\nZmZimletMgr.prototype.loadZimlets=function(h,c,f,i,g){var a=window.location.href.toLowerCase();\nif(a.indexOf(\"zimlets=none\")>0||appCtxt.isWebClientOffline()){return\n}else{if(a.indexOf(\"zimlets=core\")>0){h=this._getCoreZimlets(h)\n}}var d=document.location.protocol==ZmSetting.PROTO_HTTP;\nvar e=appCtxt.get(ZmSetting.PROTOCOL_MODE)==ZmSetting.PROTO_MIXED;\nvar b=a.indexOf(\"zimlets=all\")>0;\nif(e&&!appCtxt.isOffline&&!b&&d&&appCtxt.get(ZmSetting.DISABLE_SENSITIVE_ZIMLETS_IN_MIXED_MODE)==\"TRUE\"){h=this._getNonSensitiveZimlets(h)\n}var j=i?new AjxCallback(this,this._loadZimlets,[h,c,f,i,g]):null;\nAjxPackage.require({name:\"Zimlet\",callback:j});\nif(!i){this._loadZimlets(h,c,f,i,g)\n}};\nZmZimletMgr.prototype._getNonSensitiveZimlets=function(h){if(!h||!h.length){return\n}var d=[];\nvar g=h.length;\nfor(var f=0;\nf<g;\nf++){var a=[];\nvar k=h[f];\nvar c=false;\nvar l=k.zimlet&&k.zimlet[0]?k.zimlet[0].name:\"\";\nvar b=k.zimletConfig;\nif(b){if(b[0]&&b[0].global&&b[0].global[0]&&b[0].global[0].property){a=b[0].global[0].property;\nfor(var e=0;\ne<a.length;\ne++){var m=a[e];\nif(m.name==ZmZimletMgr.HAS_SENSITIVE_DATA_CONFIG_NAME&&m._content==\"true\"){c=true;\nbreak\n}}}}if(!c){d.push(k)\n}}return d\n};\nZmZimletMgr.prototype._getCoreZimlets=function(d){if(!d||!d.length){return\n}var c=[];\nvar a=d.length;\nfor(var e=0;\ne<a;\ne++){var b=d[e].zimlet;\nvar f=b&&b[0]?b[0].name:\"\";\nif(ZmZimletMgr.CORE_ZIMLETS.test(f)){c.push(d[e])\n}}return c\n};\nZmZimletMgr.prototype._loadZimlets=function(o,e,h,r,n){var k;\nvar b=[];\nvar l=new RegExp(\"\\\\b\"+(h||\"main\")+\"\\\\b\");\nfor(var f=0;\nf<o.length;\nf++){var m=o[f];\nvar d=m.zimlet[0];\nif(!l.test(d.target||\"main\")){continue\n}k=new ZmZimletContext(f,m);\nthis._ZIMLETS_BY_ID[k.name]=k;\nthis._ZIMLETS.push(k);\nb.push(m)\n}if(e){for(f=0;\nf<e.length;\n++f){var a=e[f];\nk=this._ZIMLETS_BY_ID[a.zimlet];\nif(k){k.setPropValue(a.name,a._content)\n}}}if(!appCtxt.isChildWindow){var c=this.getPanelZimlets();\nif(c&&c.length>0){var j=appCtxt.getZimletTree();\nif(!j){j=new ZmFolderTree(ZmOrganizer.ZIMLET);\nvar g=appCtxt.multiAccounts&&appCtxt.accountList.mainAccount;\nappCtxt.setTree(ZmOrganizer.ZIMLET,j,g)\n}j.reset();\nj.loadFromJs(c,\"zimlet\")\n}else{this._resetOverviewTree()\n}}var q=this._getZimletNames(b);\nthis._loadIncludes(b,q,(n?r:null));\nthis._loadStyles(b,q);\nif(r&&!n){r.run()\n}};\nZmZimletMgr.prototype._resetOverviewTree=function(){var c=appCtxt.getZimletTree();\nif(c){var a=this.getPanelZimlets();\nc.loadFromJs(a,\"zimlet\");\nvar d=appCtxt.getCurrentApp().getOverview();\nif(d){var b=d.getTreeView(ZmOrganizer.ZIMLET);\nif(b&&(!a||!a.length)){b.clear()\n}}}};\nZmZimletMgr.prototype.getPanelZimlets=function(){var a=[];\nfor(var b=0;\nb<this._ZIMLETS.length;\nb++){if(this._ZIMLETS[b].zimletPanelItem){a.push(this._ZIMLETS[b])\n}}return a\n};\nZmZimletMgr.prototype.getIndexedZimlets=function(){var b=[];\nfor(var a=0;\na<this._ZIMLETS.length;\na++){if(this._ZIMLETS[a].keyword){b.push(this._ZIMLETS[a])\n}}return b\n};\nZmZimletMgr.prototype.getPortletZimlets=function(){if(!this._portletArray){this._portletArray=[];\nthis._portletMap={};\nfor(var b=0;\nb<this._ZIMLETS.length;\nb++){var a=this._ZIMLETS[b];\nif(a.portlet){this._portletArray.push(a);\nthis._portletMap[a.name]=a\n}}}return this._portletArray\n};\nZmZimletMgr.prototype.getPortletZimletsHash=function(){this.getPortletZimlets();\nreturn this._portletMap\n};\nZmZimletMgr.prototype.registerContentZimlet=function(a,d,c){var b=this._CONTENT_ZIMLETS.length;\nthis._CONTENT_ZIMLETS[b]=a;\nthis._CONTENT_ZIMLETS[b].type=d;\nthis._CONTENT_ZIMLETS[b].prio=c\n};\nZmZimletMgr.prototype.getContentZimlets=function(){return this._CONTENT_ZIMLETS\n};\nZmZimletMgr.prototype.getZimlets=function(){return this._ZIMLETS\n};\nZmZimletMgr.prototype.getZimletsHash=function(){return this._ZIMLETS_BY_ID\n};\nZmZimletMgr.prototype.zimletExists=function(a){return this._ZIMLETS_BY_ID[a]\n};\nZmZimletMgr.prototype.getZimletByName=function(a){for(var b=0;\nb<this._ZIMLETS.length;\nb++){var c=this._ZIMLETS[b];\nif(c&&(c.name==a)){return c\n}}return null\n};\nZmZimletMgr.prototype.notifyZimlets=function(d,b){b=AjxUtil.toArray(b);\nvar e=false;\nfor(var c=0;\nc<this._ZIMLETS.length;\n++c){var f=this._ZIMLETS[c].handlerObject;\nif(f&&f.isZmObjectHandler&&f.getEnabled()&&(typeof f[d]==\"function\")){var a=b?f[d].apply(f,b):f[d].apply(f);\ne=e||a\n}}return e\n};\nZmZimletMgr.prototype.notifyZimlet=function(d,c,b){var a=this.getZimletByName(d);\nvar e=a&&a.handlerObject;\nif(e&&e.isZmObjectHandler&&e.getEnabled()&&(typeof e[c]==\"function\")){return(b?e[c].apply(e,b):e[c].apply(e))\n}};\nZmZimletMgr.prototype.processARequest=function(e){if(this._requestNotHandledByAnyZimlet[e]){return null\n}var c=new Array(arguments.length-1);\nfor(var d=0;\nd<c.length;\n){c[d]=arguments[++d]\n}var f=this._serviceZimlets[e];\nif(f){return f[e].apply(f,c)\n}var b=this._ZIMLETS;\nfor(var d=0;\nd<b.length;\n++d){var g=b[d].handlerObject;\nif(g&&(g instanceof ZmZimletBase)&&g.getEnabled()&&(typeof g[e]==\"function\")){this._serviceZimlets[e]=g;\nreturn g[e].apply(g,c)\n}}if(this.isLoaded()){this._requestNotHandledByAnyZimlet[e]=e\n}return null\n};\nZmZimletMgr.prototype._getZimletNames=function(a){var c=new Array(a?a.length:0);\nfor(var b=0;\nb<a.length;\nb++){c[b]=a[b].zimlet[0].name\n}return c\n};\nZmZimletMgr.prototype._loadIncludes=function(c,a,e){var d=this.__getIncludes(c,a,true);\nvar b=new AjxCallback(this,this._finished_loadIncludes,[a,e]);\nAjxInclude(d,null,b,ZmZimletBase.PROXY)\n};\nZmZimletMgr.prototype._finished_loadIncludes=function(j,k){if(!appCtxt.isChildWindow){this.renameZimletsLabel()\n}this.loaded=true;\nvar b=this.getZimletsHash();\nfor(var d=0;\nd<j.length;\nd++){var f=false;\nvar a=j[d];\ntry{b[a]._finished_loadIncludes()\n}catch(g){if(!f){var h=appCtxt.getErrorDialog();\nvar l=AjxMessageFormat.format(ZmMsg.zimletInitError,a);\nh.setMessage(l,g.toString(),DwtMessageDialog.CRITICAL_STYLE);\nh.popup();\nf=true\n}}}if(appCtxt.get(ZmSetting.PORTAL_ENABLED)&&!appCtxt.isChildWindow){var c={name:\"Portal\",callback:(new AjxCallback(this,this._finished_loadIncludes2,[k]))};\nAjxPackage.require(c)\n}else{this._finished_loadIncludes2(k)\n}};\nZmZimletMgr.prototype._finished_loadIncludes2=function(a){appCtxt.allZimletsLoaded();\nif(a){a.run()\n}};\nZmZimletMgr.prototype._loadStyles=function(b,a){var e=document.getElementsByTagName(\"head\")[0];\nvar d=this.__getIncludes(b,a,false);\nfor(var c=0;\nc<d.length;\nc++){var f=document.createElement(\"link\");\nf.type=\"text/css\";\nf.rel=\"stylesheet\";\nf.href=d[c];\ne.appendChild(f);\nf.disabled=true;\nf.disabled=false\n}};\nZmZimletMgr.prototype.__getIncludes=function(g,l,n){var v=null;\nvar o=null;\nif(appCtxt.get(ZmSetting.LOCALE_NAME)){var s=appCtxt.get(ZmSetting.LOCALE_NAME)||\"\";\nvar m=s.split(\"_\");\nv=m[0];\no=m[1]\n}var h=\"\";\nif(v){h+=\"&language=\"+v\n}if(o){h+=\"&country=\"+o\n}var e=[\"?v=\",window.cacheKillerVersion].join(\"\");\nvar q=[];\nif(window.appDevMode&&n){var f=appCtxt.get(ZmSetting.ZIMLETS)||[];\nif(appCtxt.isChildWindow){var b=window.opener||window;\nf=b.appCtxt.get(ZmSetting.ZIMLETS)||[]\n}for(var u=0;\nu<f.length;\nu++){var p=f[u].zimlet[0];\nq.push([appContextPath,\"/res/\",p.name,\".js\",e,h].join(\"\"))\n}}for(var u=0;\nu<g.length;\nu++){var p=g[u].zimlet[0];\nvar a=g[u].zimletContext[0].baseUrl;\nvar w=a.match(\"/_dev/\");\nvar c=(n?p.include:p.includeCSS)||[];\nfor(var r=0;\nr<c.length;\nr++){var d=c[r]._content;\nif(ZmZimletMgr._RE_REMOTE.test(d)){var t=[ZmZimletBase.PROXY,AjxStringUtil.urlComponentEncode(d)].join(\"\");\nq.push(t);\ncontinue\n}if(window.appDevMode||w){var k=w?\"&debug=1\":\"\";\nq.push([a,d,e,h,k].join(\"\"))\n}}}if(!window.appDevMode){var y=null;\nif(appCtxt.getSettings()&&appCtxt.getSettings().getInfoResponse&&appCtxt.getSettings().getInfoResponse.cos){y=appCtxt.getSettings().getInfoResponse.cos.id\n}q.unshift([\"/service/zimlet/res/Zimlets-nodev_all\",(n?(\".js\"+appExtension):\".css\"),(v?\"?language=\"+v:\"\"),(o?\"&country=\"+o:\"\"),(y?\"&cosId=\"+y:\"\")].join(\"\"))\n}return q\n};\nZmZimletMgr.prototype.renameZimletsLabel=function(){var e=appCtxt.getOverviewController().getTreeController(\"ZIMLET\");\nvar c=(e)?e.getTreeView(\"Mail\"):null;\nvar a=(c)?c.getItems()[0]:null;\nif(a){var b=a.getItems();\nfor(var d=0;\nd<b.length;\nd++){this.changeZimletLabel(b[d])\n}}};\nZmZimletMgr.prototype.changeZimletLabel=function(c){var b=c.getData(Dwt.KEY_OBJECT);\nif(b){var a=b.getName();\nvar e=/\\$/;\nif(a.match(e)){var g=a.replace(/\\${msg./,\"\").replace(/}/,\"\");\nvar d=b.getZimletContext().name;\nif(window[d]){var f=window[d][g];\nif(f){c.setText(f);\nb.setName(f)\n}}}}}\n}if(AjxPackage.define(\"zimbraMail.share.model.ZmZimlet\")){ZmZimlet=function(e,c,d,a,b){ZmOrganizer.call(this,{type:ZmOrganizer.ZIMLET,id:e,name:c,parent:d,tree:a})\n};\nZmZimlet.prototype=new ZmOrganizer();\nZmZimlet.prototype.constructor=ZmZimlet;\nZmZimlet.actionMenus={};\nZmZimlet.actionMenus.ZmCalViewController=[];\nZmZimlet.listeners={};\nZmZimlet.listeners.ZmCalViewController={};\nZmZimlet.ID_ZIMLET=ZmOrganizer.ID_ZIMLET;\nZmZimlet.ID_ZIMLET_ROOT=ZmZimlet.ID_ZIMLET+\"_root\";\nZmZimlet.prototype.toString=function(){return\"ZmZimlet - \"+this.name\n};\nZmZimlet.prototype.setName=function(a){this.name=a\n};\nZmZimlet.createFromJs=function(j,d,k,h){if(!d&&d.length<1){return null\n}var e=new ZmZimlet(ZmZimlet.ID_ZIMLET_ROOT,ZmMsg.zimlets,j,k,null,null);\nif(d&&d.length){var b=ZmZimlet.ID_ZIMLET;\nfor(var f=0;\nf<d.length;\nf++){var g=d[f].processMessage(d[f].zimletPanelItem.label);\nvar a=(++b)+\"_z\";\nvar c=new ZmZimlet(a,g,e,k,null,null);\ne.children.add(c);\nc._zimletContext=d[f];\nc._zimletContext._id=a;\nc._toolTip=d[f].zimletPanelItem.toolTipText;\nd[f]._organizer=c\n}}return e\n};\nZmZimlet.sortCompare=function(d,b){var a=ZmOrganizer.checkSortArgs(d,b);\nif(!a){return a\n}var c=d.name.toLowerCase();\nvar e=b.name.toLowerCase();\nif(c<e){return -1\n}if(c>e){return 1\n}return 0\n};\nZmZimlet.checkName=function(a){return ZmOrganizer.checkName(a)\n};\nZmZimlet.prototype.resetNames=function(){var d=this.name;\nvar b=this._toolTip;\nif(this._zimletContext&&this._toolTip){this._toolTip=this._zimletContext.processMessage(this._toolTip)\n}if(this._zimletContext&&this.name){this.name=this._zimletContext.processMessage(this.name)\n}if((d!=this.name)||(b!=this._toolTip)){var a={};\na[ZmOrganizer.F_NAME]=true;\nvar c={};\nc.fields=a;\nthis._notify(ZmEvent.E_MODIFY,c)\n}};\nZmZimlet.prototype.setToolTipText=function(a){a.setToolTipContent(this._toolTip)\n};\nZmZimlet.prototype.getIcon=function(){return(this.id==ZmZimlet.ID_ZIMLET_ROOT)?null:this._zimletContext.icon\n};\nZmZimlet.prototype.getZimletContext=function(){return this._zimletContext\n};\nZmZimlet.prototype.supportsSharing=function(){return false\n}\n}if(AjxPackage.define(\"zimbraMail.share.controller.ZmZimletTreeController\")){ZmZimletTreeController=function(){ZmTreeController.call(this,ZmOrganizer.ZIMLET);\nthis._eventMgrs={};\nthis._treeSelectionShortcutDelay=0\n};\nZmZimletTreeController.prototype=new ZmTreeController;\nZmZimletTreeController.prototype.constructor=ZmZimletTreeController;\nZmZimletTreeController.prototype.isZmZimletTreeController=true;\nZmZimletTreeController.prototype.toString=function(){return\"ZmZimletTreeController\"\n};\nZmZimletTreeController.prototype.addSelectionListener=function(b,a){if(!this._eventMgrs[b]){this._eventMgrs[b]=new AjxEventMgr;\nthis._eventMgrs[b]._selEv=new DwtSelectionEvent(true)\n}this._eventMgrs[b].addListener(DwtEvent.SELECTION,a)\n};\nZmZimletTreeController.prototype._createTreeView=function(a){a.actionSupported=false;\nreturn new ZmTreeView(a)\n};\nZmZimletTreeController.prototype.removeSelectionListener=function(b,a){if(this._eventMgrs[b]){this._eventMgrs[b].removeListener(DwtEvent.SELECTION,a)\n}};\nZmZimletTreeController.prototype._postSetup=function(e){var c=this.getTreeView(e);\nvar a=c.getItems()[0];\nif(a){var b=a.getItems();\nfor(var d=0;\nd<b.length;\nd++){this.setToolTipText(b[d])\n}}};\nZmZimletTreeController.prototype.setToolTipText=function(b){var a=b.getData(Dwt.KEY_OBJECT);\nif(a){a.setToolTipText(b)\n}};\nZmZimletTreeController.prototype._changeListener=function(f,b,g){ZmTreeController.prototype._changeListener.call(this,f,b,g);\nvar c=f.getDetail(\"organizers\");\nif(!c&&f.source){c=[f.source]\n}for(var d=0;\nd<c.length;\nd++){var a=c[d];\nvar h=a.id;\nvar e=b.getTreeItemById(h);\nthis.setToolTipText(e)\n}};\nZmZimletTreeController.prototype._getDataTree=function(){return appCtxt.getZimletTree()\n};\nZmZimletTreeController.prototype._getHeaderActionMenuOps=function(){return null\n};\nZmZimletTreeController.prototype._getActionMenuOps=function(){return null\n};\nZmZimletTreeController.prototype._getActionMenu=function(a){var b=a.item.getData(Dwt.KEY_OBJECT);\nb=b.getZimletContext();\nif(b){return b.getPanelActionMenu()\n}};\nZmZimletTreeController.prototype.getTreeStyle=function(){return DwtTree.SINGLE_STYLE\n};\nZmZimletTreeController.prototype._itemClicked=function(a){if(a.id==ZmZimlet.ID_ZIMLET_ROOT){return\n}if(!a.__dbl_click_timeout){a.__dbl_click_timeout=setTimeout(function(){a.__dbl_click_timeout=null;\na.getZimletContext().callHandler(\"_dispatch\",[\"singleClicked\"])\n},350)\n}};\nZmZimletTreeController.prototype._itemDblClicked=function(a){if(a.id==ZmZimlet.ID_ZIMLET_ROOT){return\n}if(a.__dbl_click_timeout){clearTimeout(a.__dbl_click_timeout);\na.__dbl_click_timeout=null\n}a.getZimletContext().callHandler(\"_dispatch\",[\"doubleClicked\"])\n};\nZmZimletTreeController.prototype._dropListener=function(b){var e=b.targetControl.getData(Dwt.KEY_OBJECT);\nif(!e){b.doIt=false;\nreturn\n}if(e.id==ZmZimlet.ID_ZIMLET_ROOT){b.doIt=false;\nreturn\n}if(e.getZimletContext){try{e=e.getZimletContext()\n}catch(a){b.doIt=false;\nreturn\n}}else{b.doIt=false;\nreturn\n}var d=b.srcData.data;\nif(!e||!d){b.doIt=false;\nreturn\n}var c=e.zimletPanelItem.dragSource;\nif(c&&b.action==DwtDropEvent.DRAG_DROP){e.callHandler(\"_dispatch\",[\"doDrop\",ZmZimletContext._translateZMObject(d),c])\n}};\nZmZimletTreeController.prototype._dragListener=function(a){a.operation=Dwt.DND_DROP_NONE\n}\n}};\n"
                    },
                    "redirectURL": "",
                    "headersSize": 364,
                    "bodySize": 43318
                },
                "cache": {},
                "timings": {
                    "send": 0,
                    "wait": 0,
                    "receive": 0
                }
            }
        ],
        "_webSocketEntries": {},
        "_settings": {
            "_proxy": {}
        }
    }
}
